<!doctype html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HD1920x1080</title>
    <meta name="description" content="HD - Streamplan, Ressourcen, Socials und Clips.">
    <link rel="icon" href="img/logo128.png" type="image/png">
    <link rel="apple-touch-icon" href="img/logo128.png">
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/cookie-banner.css">
    <link rel="stylesheet" href="./css/mobile.css">
</head>
<body>
<header id="hero" class="hero fullwidth">
    <div class="hero-overlay fullwidth">
        <div class="container">
            <div class="profile-box">
                <img src="img/HDProfile.webp" alt="HD Profilbild" class="profile-img">
                <div class="profile-info">
                    <h1>HD1920x1080</h1>
                    <p>FullHD - Gaming, Streams & Clips</p>
                </div>
            </div>
        </div>
    </div>
</header>

<main class="container">
    <!-- Mobile Toggle: nur sichtbar auf kleinen Displays -->
    <div class="mobile-toggle" role="tablist" aria-label="Ansicht wechseln">
        <button id="mobile-live-btn" role="tab" aria-controls="live-section" aria-selected="false">Live</button>
        <button id="mobile-links-btn" role="tab" aria-controls="links-section" aria-selected="true">Links</button>
    </div>

    <!-- Eingebettete Live-Feeds -->
    <section id="live-section" class="embed-section" aria-label="Live Streams und Kalender">
        <div class="embed-wrapper">
            <!-- Twitch Embed (responsive) -->
            <div class="embed-card fullwidth">
                <a href="https://www.twitch.tv/hd1920x1080"><div class="embed-title">Live</div></a>
                <div class="responsive-embed-row" style="display:flex;gap:1rem;align-items:stretch;">
                    <div class="responsive-embed player" style="flex:1 1 0;">
                        <button id="fs-player-btn" class="fs-btn fs-player" title="Stream fullscreen" aria-label="Nur Stream fullscreen">⤢</button>
                        <iframe
                                class="twitch-player-iframe"
                                data-channel="hd1920x1080"
                                allow="autoplay; fullscreen; clipboard-write; encrypted-media"
                                allowfullscreen
                                title="Twitch Live Player"
                                style="width:100%;height:100%;border:0;"></iframe>
                    </div>
                    <div class="responsive-embed chat" style="flex:0 0 220px;max-width:420px;">
                        <button id="fs-chat-btn" class="fs-btn fs-chat" title="Chat fullscreen" aria-label="Chat fullscreen">⤢</button>
                        <iframe
                                class="twitch-chat-iframe"
                                data-channel="hd1920x1080"
                                title="Twitch Chat"
                                allow="autoplay; fullscreen; clipboard-write"
                                sandbox="allow-scripts allow-same-origin allow-popups"
                                style="width:100%;height:100%;border:0;"></iframe>
                        <!-- Fallback link für Fälle, in denen das Twitch-Embed blockiert wird -->
                        <div style="margin-top:.5rem; font-size:.9rem;">
                            <a href="https://www.twitch.tv/hd1920x1080/chat" target="_blank" rel="noopener noreferrer">Chat im neuen Tab öffnen</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Donation placeholder: wird beim Wechsel in Live-View gefüllt -->
            <div id="donation-embed" class="embed-card fullwidth" aria-live="polite" aria-atomic="true" style="display:none;">
                <!-- Wird dynamisch befüllt (fetch von streamelements.html) -->
                <div class="loading">Lade Spenden-Übersicht…</div>
            </div>
        </div>
    </section>

    <!-- Haupt-Links (keine Impressum-Karte hier) -->
    <section id="links-section" class="links-box" aria-label="Wichtige Links">
        <div class="link-grid">

            <a class="link-card"
               href="streamplan.html"
               rel="noopener noreferrer">
                <img src="img/StreamPlan.webp" alt="Streamplan Icon" class="icon">
                <div class="card-text">
                    <strong>Streamplan</strong>
                    <span>Live-Termine</span>
                </div>
            </a>

            <a class="link-card"
               href="streamelements.html"
                rel="noopener noreferrer">
                <img src="img/StreamElements.png" alt="StreamElements" class="icon">
                <div class="card-text">
                    <strong>StreamElements</strong>
                    <span>Donation + Liste</span>
                </div>
            </a>

           <a class="link-card"
               href="http://tng.gl/c/hd1920x1080"
               target="_blank" rel="noopener noreferrer">
                <img src="img/Puzzle.svg" alt="Puzzle" class="icon">
                <div class="card-text">
                    <strong>Tanggle.io</strong>
                    <span>Live mitpuzzeln</span>
                </div>
            </a>

            <a class="link-card" href="https://youtube.com/@hawedereplus" target="_blank" rel="noopener noreferrer">
                <img src="img/youtube.svg" alt="YouTube" class="icon">
                <div class="card-text">
                    <strong>YouTube</strong>
                    <span>Hauptkanal</span>
                </div>
            </a>

            <a class="link-card" href="https://tiktok.com/@hd1920x1080" target="_blank" rel="noopener noreferrer">
                <img src="img/tiktok.svg" alt="TikTok" class="icon">
                <div class="card-text">
                    <strong>TikTok</strong>
                    <span>Hauptkanal</span>
                </div>
            </a>

            <a class="link-card" href="https://www.instagram.com/hd1920x1080/" target="_blank"
               rel="noopener noreferrer">
                <img src="img/instagram.svg" alt="Instagram" class="icon">
                <div class="card-text">
                    <strong>Instagram</strong>
                    <span>Hauptkanal</span>
                </div>
            </a>

            <a class="link-card"
               href="https://github.com/HD1920x1080Media/Minecraft-Ressource-Pack/archive/refs/tags/latest.zip"
               data-file="https://github.com/HD1920x1080Media/Minecraft-Ressource-Pack/archive/refs/tags/latest.zip"
               onclick="event.preventDefault(); showDownloadConfirm(this.dataset.file);"
               rel="noopener noreferrer">
                <img src="img/MinecraftRessourcePack.webp" alt="Ressource Pack" class="icon">
                <div class="card-text">
                    <strong>Minecraft ResourcePack</strong>
                    <span>Download</span>
                </div>
            </a>

            <!-- einfacher Bestätigungsdialog -->
            <div id="download-modal" class="download-modal" role="dialog" aria-modal="true" aria-hidden="true">
                <div class="modal-backdrop" onclick="hideDownloadConfirm()" aria-hidden="true"></div>
                <div class="modal-card" role="document">
                    <h3 class="modal-title">Download bestätigen</h3>
                    <p class="modal-message">Möchtest du das Resource-Pack herunterladen: <strong>HD1920x1080_V1.10.zip</strong>?</p>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" onclick="hideDownloadConfirm()">Abbrechen</button>
                        <button type="button" class="btn btn-primary" onclick="confirmDownload()">Herunterladen</button>
                    </div>
                </div>
            </div>

            <script>
                function showDownloadConfirm(file) {
                    const modal = document.getElementById('download-modal');
                    modal.dataset.file = file;
                    modal.classList.add('is-open');
                    modal.setAttribute('aria-hidden', 'false');
                    // focus first action for keyboard users
                    setTimeout(() => { modal.querySelector('.btn-secondary')?.focus(); }, 10);
                }
                function hideDownloadConfirm() {
                    const modal = document.getElementById('download-modal');
                    modal.classList.remove('is-open');
                    modal.setAttribute('aria-hidden', 'true');
                }
                function confirmDownload() {
                    const modal = document.getElementById('download-modal');
                    const file = modal.dataset.file;
                    hideDownloadConfirm();
                    // programmgesteuerter Download (setzt a.download, falls gewünscht)
                    const a = document.createElement('a');
                    a.href = file;
                    a.download = 'HD1920x1080_V1.10.zip';
                    document.body.appendChild(a);
                    a.click();
                    a.remove();
                    if (typeof showToast === 'function') showToast('Download gestartet: ' + file);
                }
            </script>

            <a class="link-card" href="https://discord.gg/Zp5KNqCHzc" target="_blank" rel="noopener noreferrer">
                <img src="img/discord.svg" alt="Discord" class="icon">
                <div class="card-text">
                    <strong>Discord</strong>
                    <span>Server beitreten</span>
                </div>
            </a>

            <a class="link-card" href="mailto:Admin@HD1920x1080.de?subject=Kontaktanfrage" target="_self" rel="noopener">
                <img src="img/email.svg" alt="E-Mail" class="icon">
                <div class="card-text">
                    <strong>Kontakt</strong>
                    <span>Kontakt per E‑Mail</span>
                </div>
            </a>

            <a class="link-card" href="ob.html" target="_self" rel="noopener">
                <img src="img/OB.png" alt="OnlyBart" class="icon">
                <div class="card-text">
                    <strong>OnlyBart</strong>
                    <span>Ganz viel Bart :)</span>
                </div>
            </a>

             <a class="link-card" href="clipdesmonats.html" target="_self" rel="noopener">
                <img src="img/cdm.png" alt="Clip des Monats" class="icon">
                <div class="card-text">
                    <strong>Clip des Monats</strong>
                    <span>Votet für die Top 10 Clips des letzten Monats</span>
                </div>
            </a>
        </div>
    </section>

    <!-- Getrennte Box für Clips / Shorts -->
    <section class="clips-section" aria-label="Clips und Shorts">
        <h2 class="section-title">Clips & Shorts</h2>
        <div class="clips-grid">
            <a class="link-card" href="https://www.youtube.com/@lesommer2019" target="_blank" rel="noopener noreferrer">
                <img src="img/youtube.svg" alt="YouTube Shorts" class="icon">
                <div class="card-text">
                    <strong>YT Shorts</strong>
                    <span>Shorts & Clips</span>
                </div>
            </a>

            <a class="link-card" href="https://www.tiktok.com/@hawedereshorts" target="_blank"
               rel="noopener noreferrer">
                <img src="img/tiktok.svg" alt="TikTok Clips" class="icon">
                <div class="card-text">
                    <strong>TikTok Clips</strong>
                    <span>Shorts & Clips</span>
                </div>
            </a>

            <a class="link-card" href="https://www.instagram.com/hawedereshorts/" target="_blank"
               rel="noopener noreferrer">
                <img src="img/instagram.svg" alt="Instagram Clips" class="icon">
                <div class="card-text">
                    <strong>Insta Clips</strong>
                    <span>Shorts & Clips</span>
                </div>
            </a>
        </div>
    </section>

    <!-- Getrennte Box für Partner -->
    <section class="clips-section" aria-label="Clips und Shorts">
        <h2 class="section-title">Partner</h2>
        <div class="clips-grid">
            <a class="link-card" href="https://yvolve.shop/?bg_ref=cnbZIhbZxH" target="_blank" rel="noopener noreferrer" data-code="FullHD" onclick="copyDiscountCode(event)">
                <img src="img/Evolve.png" alt="Evolve" class="icon">
                <div class="card-text">
                    <strong>Yvolve</strong>
                    <span>Code: FullHD</span>
                    <span>10% Rabatt auf die gesamte Bestellung</span>
                </div>
            </a>

            <a class="link-card" href="https://nclip.io/page/hd1920x1080" target="_blank"
               rel="noopener noreferrer">
                <img src="img/NClip.png" alt="NClip" class="icon">
                <div class="card-text">
                    <strong>NClip</strong>
                </div>
            </a>

            <a class="link-card" href="https://frugends.com/?srsltid=AfmBOoqjyBjbK5TWs0tAS4ELgV93XqTXzl84OChVKd93OVkjeWfH8wFT" target="_blank"
               rel="noopener noreferrer" data-code="FullHD" onclick="copyDiscountCode(event)">
                <img src="img/Frugends.png" alt="Frugends" class="icon">
                <div class="card-text">
                    <strong>Frugends</strong>
                    <span>Code: FullHD</span>
                </div>
            </a>
        </div>
    </section>

    <footer class="footer">
        <p>© <span id="year"></span> FullHD Media <a href="impressum.html">Impressum</a> | <a href="datenschutz.html">Datenschutz</a></p>
    </footer>
</main>

<script src="js/mobile.js"></script>

 <!-- Cookie Consent Banner -->
 <div id="cookie-banner" class="cookie-banner">
    <div class="cookie-banner-content">
        <div class="cookie-banner-text">
            Wir verwenden Cookies, um anonymisierte Seitenaufrufe zu erfassen und unsere Website zu verbessern. Weitere Informationen finden Sie in unserer <a href="datenschutz.html">Datenschutzerklärung</a>.
        </div>
        <div class="cookie-banner-buttons">
            <button id="cookie-accept" class="btn btn-accept">Akzeptieren</button>
            <button id="cookie-reject" class="btn btn-reject">Ablehnen</button>
        </div>
    </div>
</div>

<!-- Page View Tracking -->
<script src="js/config.js"></script>
<script src="js/supabase-client.js"></script>
<script src="js/cookie-consent.js"></script>
<script src="./js/page-view-tracker.js"></script>

</body>
</html>
